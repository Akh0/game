(this.webpackJsonpgame=this.webpackJsonpgame||[]).push([[0],[,,,,,,,,,,function(e,t,a){e.exports=a(22)},,,,,function(e,t,a){},,function(e,t,a){},function(e,t,a){},function(e,t,a){},,,function(e,t,a){"use strict";a.r(t);var n=a(0),s=a.n(n),c=a(9),r=a.n(c),i=(a(15),a(16),a(6)),l=a(1),o=a(2),m=a(3),u=a(5),p=a(4),f=(a(17),a(18),a(19),function(e){Object(u.a)(a,e);var t=Object(p.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(m.a)(a,[{key:"render",value:function(){return s.a.createElement("div",{className:"battle-text-content"},s.a.createElement("p",null,this.props.messageOne," ",s.a.createElement("br",null)," ",this.props.messageTwo))}}]),a}(n.Component)),y=function(e){Object(u.a)(a,e);var t=Object(p.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(m.a)(a,[{key:"expectedEffect",value:function(e,t){switch(t){case"attack":return s.a.createElement(s.a.Fragment,null,s.a.createElement("i",{className:"fas fa-fist-raised"})," ",s.a.createElement("span",{className:"small"},e));case"defense":return s.a.createElement(s.a.Fragment,null,s.a.createElement("i",{className:"fas fa-shield-alt"})," ",s.a.createElement("span",{className:"small"},e));default:return""}}},{key:"render",value:function(){var e=this,t=this.props.action,a=t.name,n=t.amount,c=t.effect;return s.a.createElement("div",{className:"attack-container"},s.a.createElement("div",null,s.a.createElement("span",{className:"move-pointer",onClick:function(){return e.props.onClick(e.props.action)}},a," ",this.expectedEffect(n,c))))}}]),a}(n.Component),h=function(e){Object(u.a)(a,e);var t=Object(p.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(m.a)(a,[{key:"animation",value:function(){var e=this.props,t=e.faint;return!0===e.isHit?"animated headShake":!0===t?"animated fadeOut slow":null===t?"animated fadeInUp":void 0===t?"hide":void 0}},{key:"render",value:function(){return s.a.createElement("div",{className:this.animation()},s.a.createElement("img",{className:this.props.className,src:"/game/img/"+this.props.logoName+".png",alt:this.props.logoName}))}}]),a}(n.Component),d=function(e){Object(u.a)(a,e);var t=Object(p.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(m.a)(a,[{key:"expectedAction",value:function(e){if(void 0===e)return s.a.createElement("br",null);switch(e.effect){case"attack":return s.a.createElement(s.a.Fragment,null,s.a.createElement("i",{className:"fas fa-fist-raised"})," ",s.a.createElement("span",{className:"small"},e.amount));case"defense":return s.a.createElement("i",{className:"fas fa-shield-alt"});case"unknown":return s.a.createElement("i",{className:"fas fa-question"});default:return s.a.createElement("br",null)}}},{key:"render",value:function(){var e=this.props.enemyHP/this.props.enemyMaxHP*100+"%";return s.a.createElement("div",{id:"enemy-container"},s.a.createElement("div",{id:"enemy-info-box"},s.a.createElement("div",{className:"justify-content-between align-items-center"},s.a.createElement("h2",null,this.props.enemyName)),s.a.createElement("div",{className:"d-flex justify-content-between align-items-center"},s.a.createElement("div",{className:"progress both-progress"},s.a.createElement("div",{className:"progress-bar bg-danger",role:"progressbar",style:{width:e},"aria-valuemin":"0","aria-valuemax":"100"}),s.a.createElement("div",{className:"hp-progress-bar"},s.a.createElement("span",null,this.props.enemyHP,"/",this.props.enemyMaxHP))))),s.a.createElement("div",{className:"action-intention"},this.expectedAction(this.props.enemyExpectedAction)),s.a.createElement("div",{className:"mt-4 mr-sm-4 avatar-box"},s.a.createElement(h,{faint:this.props.enemyFaint,isHit:this.props.enemyIsHit,logoName:this.props.enemyName.toLowerCase(),className:"avatar ml-3 mt-3"}),s.a.createElement("div",{className:"oval"})))}}]),a}(n.Component),v=function(e){Object(u.a)(a,e);var t=Object(p.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(m.a)(a,[{key:"expectedAction",value:function(e,t){return t?s.a.createElement("i",{className:"far fa-hand-point-down"}):e?s.a.createElement("i",{className:"fas fa-long-arrow-alt-down"}):s.a.createElement("br",null)}},{key:"render",value:function(){var e=this,t=this.props.player.hp/this.props.player.maxHp*100+"%";return s.a.createElement("div",{id:"hero-container",className:this.props.player.isSelectable?"hero-container-selected":null,onClick:function(){return e.props.onClick(e.props.player)}},s.a.createElement("div",{id:"hero-info-box"},s.a.createElement("div",{className:"d-flex justify-content-between align-items-center"},s.a.createElement("div",{className:"progress both-progress"},s.a.createElement("div",{className:"progress-bar bg-danger",role:"progressbar",style:{width:t},"aria-valuemin":"0","aria-valuenow":"75","aria-valuemax":"100"}),s.a.createElement("div",{className:"hp-progress-bar"},this.props.player.hp,"/",this.props.player.maxHp)))),s.a.createElement("div",{className:"action-intention"},this.expectedAction(this.props.player.me,this.props.player.isSelectable)),s.a.createElement("div",{className:"mr-sm-4 avatar-box"},s.a.createElement(h,{faint:this.props.player.faint,isHit:this.props.player.isHit,logoName:this.props.player.name.toLowerCase(),className:"avatar mr-3 mt-5"}),s.a.createElement("div",{className:"oval ".concat(this.props.player.isSelectable?"hero-oval-selected":null)})))}}]),a}(n.Component),b=function(e){Object(u.a)(a,e);var t=Object(p.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(m.a)(a,[{key:"render",value:function(){var e=this;return s.a.createElement("div",{className:"battle-text-content"},s.a.createElement("p",{id:"play-again-text",onClick:function(){return e.props.handlePlayAgain()}},"Cliquez ici pour recommencer une partie"))}}]),a}(n.Component),g=a(7),O=a.n(g),E=function(e){Object(u.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).startingSequence=function(){setTimeout((function(){n.setState((function(){return{textMessageOne:"".concat(n.state.enemy.name," apparait!"),enemy:Object(l.a)(Object(l.a)({},n.state.enemy),{},{faint:null})}}),(function(){setTimeout((function(){for(var e=Object(i.a)(n.state.players),t=0;t<n.state.players.length;t++)e[t]=Object(l.a)(Object(l.a)({},e[t]),{},{faint:null}),0===t&&(e[t]=Object(l.a)(Object(l.a)({},e[t]),{},{me:!0}));n.setState({textMessageOne:"Vous entrez pour le combattre !",players:e},(function(){setTimeout((function(){n.setState({textMessageOne:""}),n.nextEnemyAction()}),3e3)}))}),3e3)}))}),1e3)},n.enemyTurn=function(){var e=n.selectPlayer(),t=n.state.enemy.expectedAction.amount,a=n.state.enemy.expectedAction.name;0===n.state.enemy.hp?n.setState({textMessageOne:"".concat(n.state.enemy.name," a perdu."),textMessageTwo:"Vous avez gagn\xe9!",enemy:Object(l.a)(Object(l.a)({},n.state.enemy),{},{faint:!0,isHit:!1})},(function(){setTimeout((function(){n.setState({gameOver:!0})}),3e3)})):n.setState((function(s){var c=Object(i.a)(n.state.players);return c[e]=Object(l.a)(Object(l.a)({},c[e]),{},{isHit:!0,hp:s.players[e].hp-t<=0?0:s.players[e].hp-t}),{players:c,textMessageOne:"".concat(n.state.enemy.name," utilise ").concat(a," sur ").concat(n.state.players[e].name," pour ").concat(t,"pts de d\xe9gats!")}}),(function(){setTimeout((function(){var t=Object(i.a)(n.state.players);0===n.state.players[e].hp?(t[e]=Object(l.a)(Object(l.a)({},t[e]),{},{faint:!0,isHit:!1}),n.setState({textMessageOne:"".concat(n.state.players[e].name," a \xe9t\xe9 terrass\xe9."),players:t},(function(){setTimeout((function(){O.a.find(n.state.players,(function(e){return e.hp>0}))?(n.setState({textMessageOne:"",round:n.state.round+1}),n.nextEnemyAction()):n.setState({textMessageOne:"Toute l'\xe9quipe a perdu.",textMessageTwo:"".concat(n.state.enemy.name," a gagn\xe9!")},(function(){setTimeout((function(){n.setState({gameOver:!0})}),3e3)}))}),3e3)}))):(t[e]=Object(l.a)(Object(l.a)({},t[e]),{},{isHit:!1,faint:!1}),n.setState({textMessageOne:"",round:n.state.round+1,players:t}),n.nextEnemyAction())}),2e3)}))},n.handleClickOnPlayer=function(e){for(var t=Object(i.a)(n.state.players),a=0;a<n.state.players.length;a++)if(n.state.players[a].hp>0&&(t[a]=Object(l.a)(Object(l.a)({},t[a]),{},{isSelectable:!1}),e.name===t[a].name)){var s=t[a].hp+n.state.playerActionSelectable.amount<t[a].maxHp?t[a].hp+n.state.playerActionSelectable.amount:t[a].maxHp;t[a]=Object(l.a)(Object(l.a)({},t[a]),{},{hp:s})}n.setState({textMessageOne:"".concat(n.state.players[0].name," utilise ").concat(n.state.playerActionSelectable.name," pour soigner ").concat(e.name," de ").concat(n.state.playerActionSelectable.amount,"pts de vie!"),players:t}),setTimeout((function(){n.setState({playerActionSelectable:void 0}),n.enemyTurn()}),3e3)},n.handleActionClick=function(e){var t=e.effect,a=e.name,s=e.amount;if("attack"===t)n.setState({enemy:Object(l.a)(Object(l.a)({},n.state.enemy),{},{hp:n.state.enemy.hp-s<=0?0:n.state.enemy.hp-s,isHit:!0}),textMessageOne:"".concat(n.state.players[0].name," utilise ").concat(a," pour ").concat(s,"pts de d\xe9gats!")}),setTimeout((function(){n.setState({enemy:Object(l.a)(Object(l.a)({},n.state.enemy),{},{isHit:!1,faint:!1})}),n.enemyTurn()}),3e3);else if("defense"===t){for(var c=Object(i.a)(n.state.players),r=0;r<n.state.players.length;r++)n.state.players[r].hp>0&&(c[r]=Object(l.a)(Object(l.a)({},c[r]),{},{isSelectable:!0}));n.setState({textMessageOne:"Veuillez selectionner un joueur \xe0 soigner.",playerActionSelectable:e,players:c})}},n.handlePlayAgain=function(){for(var e=Object(i.a)(n.state.players),t=0;t<n.state.players.length;t++)e[t]=Object(l.a)(Object(l.a)({},e[t]),{},{faint:!1,isHit:!1,hp:n.state.players[t].maxHp});n.setState({enemy:Object(l.a)(Object(l.a)({},n.state.enemy),{},{hp:n.state.enemy.maxHp,faint:!1,isHit:!1}),gameOver:!1,textMessageOne:"",textMessageTwo:"",round:1,players:e})},n.state={players:[{name:"Pikachu",me:!1,level:50,hp:300,maxHp:300,faint:void 0,isHit:!1,isSelectable:!1,actions:[{name:"Morsure",amount:10,effect:"attack"},{name:"Eclair",amount:30,effect:"attack"},{name:"Soin \xe9clair",amount:100,effect:"defense"},{name:"M\xe9ga tonnerre",amount:50,effect:"attack"}]},{name:"Emolga",me:!1,level:45,hp:250,maxHp:250,faint:void 0,isHit:!1,isSelectable:!1,actions:[{name:"Morsure",amount:10,effect:"attack"},{name:"Eclair",amount:30,effect:"attack"},{name:"Tonnerre",amount:35,effect:"attack"},{name:"M\xe9ga \xe9clair",amount:45,effect:"attack"}]},{name:"Teddiursa",me:!1,level:35,hp:150,maxHp:150,faint:void 0,isHit:!1,isSelectable:!1,actions:[{name:"Morsure",amount:10,effect:"attack"},{name:"Eclair",amount:30,effect:"attack"},{name:"Tonnerre",amount:35,effect:"attack"},{name:"M\xe9ga \xe9clair",amount:45,effect:"attack"}]},{name:"Togepi",me:!1,level:40,hp:200,maxHp:200,faint:void 0,isHit:!1,isSelectable:!1,actions:[{name:"Morsure",amount:10,effect:"attack"},{name:"Eclair",amount:30,effect:"attack"},{name:"Tonnerre",amount:35,effect:"attack"},{name:"M\xe9ga \xe9clair",amount:45,effect:"attack"}]},{name:"Rondoudou",me:!1,level:50,hp:300,maxHp:300,faint:void 0,isHit:!1,isSelectable:!1,actions:[{name:"Morsure",amount:10,effect:"attack"},{name:"Eclair",amount:30,effect:"attack"},{name:"Tonnerre",amount:35,effect:"attack"},{name:"M\xe9ga \xe9clair",amount:45,effect:"attack"}]}],enemy:{name:"Mewtwo",level:60,hp:600,maxHp:600,faint:void 0,isHit:!1,actions:[{name:"Frappe",amount:50,effect:"attack"},{name:"Bouclier de l'ombre",amount:50,effect:"defense"},{name:"R\xeave \xe9veill\xe9",amount:150,effect:"unknown"},{name:"Cauchemard",amount:200,effect:"unknown"}],expectedAction:void 0},textMessageOne:" ",textMessageTwo:"",playerActionSelectable:void 0,round:1,gameOver:!1},n}return Object(m.a)(a,[{key:"componentDidMount",value:function(){this.startingSequence()}},{key:"nextEnemyAction",value:function(){var e=Math.floor(Math.random()*this.state.enemy.actions.length);this.setState({enemy:Object(l.a)(Object(l.a)({},this.state.enemy),{},{expectedAction:this.state.enemy.actions[e]})})}},{key:"selectPlayer",value:function(){for(var e=[],t=0;t<this.state.players.length;t++)this.state.players[t].hp<=0&&e.push(t);var a=Math.floor(Math.random()*this.state.players.length);return O.a.includes(e,a)?this.selectPlayer():a}},{key:"render",value:function(){var e=this;return s.a.createElement("div",{className:"container h-100"},s.a.createElement("div",{className:"row row h-100 justify-content-center align-items-center"},s.a.createElement("div",{className:"col-sm-12"},s.a.createElement("div",{id:"battle-container",className:"px-2 mx-auto"},s.a.createElement("div",{id:"turn-text"},s.a.createElement("i",{className:"fas fa-dice"})," Tour ",this.state.round),s.a.createElement("div",{className:"all-players-box"},O.a.map(this.state.players,(function(t){return s.a.createElement(v,{key:t.name,player:t,onClick:t.isSelectable?e.handleClickOnPlayer:function(){return null}})})),s.a.createElement(d,{enemyName:this.state.enemy.name,enemyLevel:this.state.enemy.level,enemyHP:this.state.enemy.hp,enemyMaxHP:this.state.enemy.maxHp,enemyFaint:this.state.enemy.faint,enemyIsHit:this.state.enemy.isHit,enemyExpectedAction:this.state.enemy.expectedAction})),s.a.createElement("div",{id:"text-box"},s.a.createElement("div",{id:"text-box-content"},""!==this.state.textMessageOne&&!1===this.state.gameOver&&s.a.createElement(f,{messageOne:this.state.textMessageOne,messageTwo:this.state.textMessageTwo}),""===this.state.textMessageOne&&!1===this.state.gameOver&&Object.keys(this.state.players[0].actions).map((function(t,a){return s.a.createElement(y,{key:t,index:a,action:e.state.players[0].actions[t],onClick:e.handleActionClick})})),!0===this.state.gameOver&&s.a.createElement(b,{handlePlayAgain:this.handlePlayAgain})))))))}}]),a}(n.Component);r.a.render(s.a.createElement(s.a.StrictMode,null,s.a.createElement(E,null)),document.getElementById("root"))}],[[10,1,2]]]);
//# sourceMappingURL=main.1692d5a1.chunk.js.map